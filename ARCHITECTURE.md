# Архитектура CashPilot

CashPilot состоит из набора микросервисов, взаимодействующих через API и асинхронные сообщения.

## Общая схема
![services-architecture](diagrams/services-architecture.png)

## Основные компоненты
1. **AI-помощник**
   - Обрабатывает голосовые и текстовые команды.
   - Классифицирует транзакции по категориям.
   - Предоставляет финансовые советы и прогнозы.

2. **Auth Service**
   - Аутентификация/авторизация (JWT, OAuth2, роли).
   - Интеграция с внешними провайдерами.

3. **Profile Service**
   - Данные пользователя (настройки, валюта, язык).
   - Управление уведомлениями.

4. **Account Service**
   - Управление банковскими счетами, кошельками и балансами.
   - Поддержка мультивалютности.

5. **Transaction Service**
   - CRUD для транзакций (доходы, расходы, переводы).
   - Импорт и обработка банковских выписок.
   - AI-анализ описаний.

6. **Planning Service**
   - Категории доходов/расходов.
   - Бюджеты, цели, лимиты.

7. **Report Service**
   - Финансовые отчёты, графики, дашборды.
   - Групповые и индивидуальные отчёты.

8. **Notification Service**
   - Пуш- и email-уведомления.
   - Напоминания о платежах и лимитах.

9. **Export Service**
   - Экспорт в CSV, XLSX, PDF.
   - История выгрузок.

## Инфраструктура
- **API Gateway** — единая точка входа.
- **Service Discovery** — автоматическое обнаружение сервисов.
- **Message Broker** — асинхронное взаимодействие.
- **Database Layer** — каждый сервис имеет свою БД.
